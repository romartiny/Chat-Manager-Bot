var fs = require("fs")
var playa_module = require("playadope.js")
var manager = playa_module("vk1.a.CY3m2UdGtcsD5t_1srJacrLvzxjy1EvOa0d7KQ_zL0gnyax6bYRKAXjIcYPpadBOYhDZ3eADAE42vgJjQGN_ZmTitxBytFlgyIoPyLTVDcIsEmcvs2VbK6sR5tlxnyJEZWatHU_WehPTxNVzim9B6_EwSjfVRCUPRe3B07fGnXZbNd4zF8YFFX8x1FCuDsTW") // —Ç–æ–∫–µ–Ω
// var database = require("/data/bd/database.json")
var database = require("./data/bd/database.json");
var settings = {
	"prefix": "/",
	"group_id": 202133184
}

manager.addGroup.LongPoll(function (msg) {
	if (msg.peer_id < 1) return manager.api.messages.send({ peer_id: msg.peer_id, message: `–û—à–∏–±–∫–∞! \n -- –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ –±–µ—Å–µ–¥–µ!` })
	if (msg.peer_id > 2000000000) msg.chat_id = msg.peer_id - 2000000000
	msg.send = function (text, other) {
		if (typeof other !== "object") other = {}
		if (other.user_id) other.peer_id = other.user_id
		if (other.chat_id) other.peer_id = 2000000000 + other.chat_id
		if (!other.user_id && !other.chat_id) other.peer_id = msg.peer_id
		other.message = ((typeof text == "string") ? text : JSON.stringify(text))
		manager.api.messages.send(other)
	}
	function findChatDBid(element) {
		if (element.chat_id == msg.chat_id) {
			return element
		}
	}
	function findStaff(element) {
		if (element.user_id == msg.from_id) {
			return element
		}
	}
	var chatDBid = database.chats.findIndex(findChatDBid)
	if (chatDBid < 0) {
		database.chats.push({ "chat_id": msg.chat_id, "key": `${randomString(3)}`, "kalimatorniy": { "rules": "–ù–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã", "hi": "–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é —Ç–µ–±—è –ø—É—Ç–Ω–∏–∫! –∏–∑—É—á–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–∞–≤–∏–ª–∞ /rules"}, "info": { "title": "–ù–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ", "creator": 0 }, "stats": { "msg_count": 0, "mat": 0, "symbols": 0 }, "defend": { "autokick": 0, "inv_grp": 0 }, "cmds": { "cmd_info": 1, "cmd_roles": 1, "cmd_defend": 1, "cmd_reload": 2, "cmd_kick": 2, "cmd_black": 3, "cmd_warn": 3, "cmd_ban": 4, "cmd_unban": 4, "cmd_status": 5, "cmd_dostup": 5, "cmd_stats": 1, "cmd_rules": 1, "cmd_newrules": 5,"cmd_eval": 100,"cmd_newmotd": 5,"cmd_motd": 1 }, "roles": [], "banned": [], "blacklisted": [], "users": [] })

		msg.send(`‚òë–°–ø–∞—Å–∏–±–æ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–º–µ–Ω–Ω–æ –Ω–∞—à–µ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞!

üìù–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥ –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —ç—Ç–æ–π —Å—Å—ã–ª–∫–µ : 
vk.com/@-181026227-osnovy-upravleniya-funkcionalom-chat-guard

‚úî–ù–µ –∑–∞–±—É–¥—å—Ç–µ —Å–¥–µ–ª–∞—Ç—å –±–æ—Ç–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º! `) 

		upd_db()
		chatDBid = database.chats.findIndex(findChatDBid)
		checkChat(msg.peer_id, chatDBid, msg, 0)
	}
	else {
		var l = database.chats[chatDBid].roles.findIndex(findStaff)
		var f = 1
		if (database.chats[chatDBid].roles[l]) {
			f = database.chats[chatDBid].roles[l].role
		}
		if (msg.action) {
			if (msg.action.type == "chat_title_update" && !msg.out) {
				if (f >= 4) {
					if (!blockurls(msg.action.text)) {
						database.chats[chatDBid].info.title = msg.action.text
						upd_db()
					}
				}
				else {
					manager.api.messages.editChat({ chat_id: msg.chat_id, title: database.chats[chatDBid].info.title })
				}
			}
			else if (msg.action.type == "chat_photo_update" || msg.action.type == "chat_photo_remove") {

			}
			else if (msg.action.type == "chat_pin_message" || msg.action.type == "chat_unpin_message") {

			}
			else if (msg.action.type == "chat_invite_user_by_link") {
				function findsss(element) {
					if (element.user_id == msg.from_id) {
						return element
					}
				}
				var fc = database.chats[d].users.findIndex(findsss)
				if (fc == -1) {
					database.chats[chatDBid].users.push({ "user_id": msg.from_id, "msg_count": 0, "symbols": 0, "warns": 0 })
					upd_db()
				}
			}
			else if (msg.action.type == "chat_invite_user") {
				function findsss(element) {
					if (element.user_id == msg.action.member_id) {
						return element
					}
				}
				var fc = database.chats[chatDBid].users.findIndex(findsss)
				if (fc == -1) {
					if (msg.action.member_id > 0) {
						var fname = manager.apiSync.users.get({ user_ids: msg.from_id, fields: "first_name" }).response[0].first_name
				       msg.send(`${database.chats[chatDBid].kalimatorniy.hi}`) 
						database.chats[chatDBid].users.push({ "user_id": msg.action.member_id, "msg_count": 0, "symbols": 0, "warns": 0 })
						upd_db()
					}
				}
				if (msg.action.member_id == msg.from_id) {
					var fname = manager.apiSync.users.get({ user_ids: msg.from_id, fields: "first_name" }).response[0].first_name
					msg.send(`${fname}, c –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º –≤ –±–µ—Å–µ–¥—É!`)
				}
				else {
					if (msg.action.member_id < 0) {
						if (database.chats[chatDBid].defend.inv_grp == 1) {
							if (f < 3) {
								manager.api.messages.removeChatUser({ member_id: msg.action.member_id, chat_id: msg.chat_id })
							}
						}
					}
					if (database.chats[chatDBid].banned.indexOf(msg.action.member_id) > -1) {
						function findid(element) {
							if (element == msg.action.member_id) {
								return element
							}
						}
						if (f < 3) {
							manager.api.messages.removeChatUser({ member_id: msg.action.member_id, chat_id: msg.chat_id })
						}
						else {
							var ub = database.chats[chatDBid].banned.findIndex(findid)
							database.chats[chatDBid].banned.splice(ub, 1)
							upd_db()
						}
					}
				}
			}
			else if (msg.action.type == "chat_kick_user") {
				if (msg.action.member_id == msg.from_id) {
					if (database.chats[chatDBid].defend.autokick == 1) {
						if (f == 1) {
							manager.api.messages.removeChatUser({ member_id: msg.from_id, chat_id: msg.chat_id }, function (gg) {
								msg.send(`@id${msg.from_id} (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å), –ø–æ–∫–∏–Ω—É–ª –±–µ—Å–µ–¥—É –∏ –±—ã–ª –∫–∏–∫–Ω—É—Ç —Å –Ω–µ—ë`)
							})
						}
					}
					else {
						if (f == 1) {
								msg.send(`@id${msg.from_id} (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å), –ø–æ—Ç–µ—Ä–ø–µ–ª –∫—Ä—É—à–µ–Ω–∏—è –∫–æ—Ä–æ–±–ª—è, –∏ —Ç–µ–ø–µ—Ä—å –∫–æ—Ä–º–∏—Ç —Ä—ã–± —Å–≤–æ–µ–π –ø–ª–æ—Ç—å—é..`)
						}
					}
				}
			}
		}
		else {
			if (msg.from_id < 0) return
			var r1 = new RegExp("\^("+settings.prefix+")\(.*)", `i`)
			var r2 = new RegExp(settings.prefix + `\$`, `iy`)
			var name = manager.apiSync.users.get({user_ids: msg.from_id, fields:"first_name"}).response[0].first_name
			if (database.chats[chatDBid].blacklisted.indexOf(msg.from_id) > -1) return
			function findsss(element) {
				if (element.user_id == msg.from_id) {
					return element
				}
			}
			var fc = database.chats[chatDBid].users.findIndex(findsss)
			if (fc == -1) return checkChat(msg.peer_id, chatDBid, msg, 0)
			database.chats[chatDBid].stats.msg_count += 1
			database.chats[chatDBid].users[fc].msg_count += 1
			if (msg.text) {
				database.chats[chatDBid].stats.symbols += msg.text.length
				database.chats[chatDBid].users[fc].symbols += msg.text.length
			}
					if(msg.text.match(/(–µ–±|–µ–ø—Ç|–ø–∏–∑|–±–ª|–ø–∏–∑–¥–∞|–ø–∑–¥—Ü|–µ–±–ø—Ç|6–ª—è|6–ª—è–¥—å|6–ª—è—Ç—å|b3—äe–±|cock|cunt|e6a–ª—å|ebal|eblan|e–±a–ª|e–±a—Ç—å|e–±y—á|e–±–∞—Ç—å|e–±—ë—Ç|e–±–ª–∞–Ω—Ç–∏–π|fuck|fucker|fucking|xy—ë–≤|xy–π|xy—è|x—É–µ|x—É–π|x—É—é|zaeb|zaebal|zaebali|zaebat|–∞—Ä—Ö–∏–ø–∏–∑–¥—Ä–∏—Ç|–∞—Ö—É–µ–ª|–∞—Ö—É–µ—Ç—å|–±–∑–¥–µ–Ω–∏–µ|–±–∑–¥–µ—Ç—å|–±–∑–¥–µ—Ö|–±–∑–¥–µ—Ü—ã|–±–∑–¥–∏—Ç|–±–∑–¥–∏—Ü—ã|–±–∑–¥–ª–æ|–±–∑–¥–Ω—É—Ç—å|–±–∑–¥—É–Ω|–±–∑–¥—É–Ω—å—è|–±–∑–¥—é—Ö–∞|–±–∑–¥—é—à–∫–∞|–±–∑–¥—é—à–∫–æ|–±–ª—è|–±–ª—è–±—É|–±–ª—è–±—É–¥—É|–±–ª—è–¥|–±–ª—è–¥–∏|–±–ª—è–¥–∏–Ω–∞|–±–ª—è–¥–∏—â–µ|–±–ª—è–¥–∫–∏|–±–ª—è–¥–æ–≤–∞—Ç—å|–±–ª—è–¥—Å—Ç–≤–æ|–±–ª—è–¥—É–Ω|–±–ª—è–¥—É–Ω—ã|–±–ª—è–¥—É–Ω—å—è|–±–ª—è–¥—å|–±–ª—è–¥—é–≥–∞|–±–ª—è—Ç—å|–≤–∞—Ñ–µ–ª|–≤–∞—Ñ–ª—ë—Ä|–≤–∑—ä–µ–±–∫–∞|–≤–∑—å–µ–±–∫–∞|–≤–∑—å–µ–±—ã–≤–∞—Ç—å|–≤—ä–µ–±|–≤—ä–µ–±–∞–ª—Å—è|–≤—ä–µ–±–µ–Ω–Ω|–≤—ä–µ–±—É—Å—å|–≤—ä–µ–±—ã–≤–∞—Ç—å|–≤—ã–±–ª—è–¥–æ–∫|–≤—ã–±–ª—è–¥—ã—à|–≤—ã–µ–±|–≤—ã–µ–±–∞—Ç—å|–≤—ã–µ–±–µ–Ω|–≤—ã–µ–±–Ω—É–ª—Å—è|–≤—ã–µ–±–æ–Ω|–≤—ã–µ–±—ã–≤–∞—Ç—å—Å—è|–≤—ã–ø–µ—Ä–¥–µ—Ç—å|–≤—ã—Å—Ä–∞—Ç—å—Å—è|–≤—ã—Å—Å–∞—Ç—å—Å—è|–≤—å–µ–±–µ–Ω|–≥–∞–≤–Ω–æ|–≥–∞–≤–Ω—é–∫|–≥–∞–≤–Ω—é—á–∫–∞|–≥–∞–º–Ω–æ|–≥–∞–Ω–¥–æ–Ω|–≥–Ω–∏–¥|–≥–Ω–∏–¥–∞|–≥–Ω–∏–¥—ã|–≥–æ–≤–µ–Ω–∫–∞|–≥–æ–≤–µ–Ω–Ω—ã–π|–≥–æ–≤–µ—à–∫–∞|–≥–æ–≤–Ω–∞–∑–∏—è|–≥–æ–≤–Ω–µ—Ü–æ|–≥–æ–≤–Ω–∏—â–µ|–≥–æ–≤–Ω–æ|–≥–æ–≤–Ω–æ–µ–¥|–≥–æ–≤–Ω–æ–ª–∏–Ω–∫|–≥–æ–≤–Ω–æ—á–∏—Å—Ç|–≥–æ–≤–Ω—é–∫|–≥–æ–≤–Ω—é—Ö–∞|–≥–æ–≤–Ω—è–¥–∏–Ω–∞|–≥–æ–≤–Ω—è–∫|–≥–æ–≤–Ω—è–Ω—ã–π|–≥–æ–≤–Ω—è—Ç—å|–≥–æ–Ω–¥–æ–Ω|–¥–æ–µ–±—ã–≤–∞—Ç—å—Å—è|–¥–æ–ª–±–æ–µ–±|–¥–æ–ª–±–æ—ë–±|–¥–æ–ª–±–æ—è—â–µ—Ä|–¥–æ—Ç–∞|–¥—Ä–∏—Å–Ω—è|–¥—Ä–∏—Å—Ç|–¥—Ä–∏—Å—Ç–∞–Ω—É—Ç—å|–¥—Ä–∏—Å—Ç–∞—Ç—å|–¥—Ä–∏—Å—Ç—É–Ω|–¥—Ä–∏—Å—Ç—É—Ö–∞|–¥—Ä–æ—á–µ–ª–ª–æ|–¥—Ä–æ—á–µ–Ω–∞|–¥—Ä–æ—á–∏–ª–∞|–¥—Ä–æ—á–∏–ª–∫–∞|–¥—Ä–æ—á–∏—Å—Ç—ã–π|–¥—Ä–æ—á–∏—Ç—å|–¥—Ä–æ—á–∫–∞|–¥—Ä–æ—á—É–Ω|–µ6–∞–ª|–µ6—É—Ç|–µ–± —Ç–≤–æ—é –º–∞—Ç—å|—ë–± —Ç–≤–æ—é –º–∞—Ç—å|—ë–±a–Ω|–µ–±a—Ç—å|–µ–±y—á|–µ–±–∞–ª|–µ–±–∞–ª–æ|–µ–±–∞–ª—å–Ω–∏–∫|–µ–±–∞–Ω|–µ–±–∞–Ω–∞–º–∞—Ç—å|–µ–±–∞–Ω–∞—Ç|–µ–±–∞–Ω–∞—è|—ë–±–∞–Ω–∞—è|–µ–±–∞–Ω–∏—á–µ—Å–∫–∏–π|–µ–±–∞–Ω–Ω—ã–π|–µ–±–∞–Ω–Ω—ã–π–≤—Ä–æ—Ç|–µ–±–∞–Ω–æ–µ|–µ–±–∞–Ω—É—Ç—å|–µ–±–∞–Ω—É—Ç—å—Å—è|—ë–±–∞–Ω—É—é|–µ–±–∞–Ω—ã–π|–µ–±–∞–Ω—å–∫–æ|–µ–±–∞—Ä—å|–µ–±–∞—Ç|—ë–±–∞—Ç|–µ–±–∞—Ç–æ—Ä–∏—è|–µ–±–∞—Ç—å|–µ–±–∞—Ç—å-–∫–æ–ø–∞—Ç—å|–µ–±–∞—Ç—å—Å—è|–µ–±–∞—à–∏—Ç—å|–µ–±—ë–Ω–∞|–µ–±–µ—Ç|–µ–±—ë—Ç|–µ–±–µ—Ü|–µ–±–∏–∫|–µ–±–∏–Ω|–µ–±–∏—Å—å|–µ–±–∏—á–µ—Å–∫–∞—è|–µ–±–∫–∏|–µ–±–ª–∞|–µ–±–ª–∞–Ω|–µ–±–ª–∏–≤—ã–π|–µ–±–ª–∏—â–µ|–µ–±–ª–æ|–µ–±–ª—ã—Å—Ç—å|–µ–±–ª—è|—ë–±–Ω|–µ–±–Ω—É—Ç—å|–µ–±–Ω—É—Ç—å—Å—è|–µ–±–Ω—è|–µ–±–æ—à–∏—Ç—å|–µ–±—Å–∫–∞—è|–µ–±—Å–∫–∏–π|–µ–±—Ç–≤–æ—é–º–∞—Ç—å|–µ–±—É–Ω|–µ–±—É—Ç|–µ–±—É—á|–µ–±—É—á–µ|–µ–±—É—á–µ–µ|–µ–±—É—á–∏–π|–µ–±—É—á–∏–º|–µ–±—É—â|–µ–±—ã—Ä—å|–µ–ª–¥–∞|–µ–ª–¥–∞–∫|–µ–ª–¥–∞—á–∏—Ç—å|–∂–æ–ø–∞|–∂–æ–ø—É|–∑–∞–≥–æ–≤–Ω—è—Ç—å|–∑–∞–¥—Ä–∞—á–∏–≤–∞—Ç—å|–∑–∞–¥—Ä–∏—Å—Ç–∞—Ç—å|–∑–∞–¥—Ä–æ—Ç–∞|–∑–∞–µ6|–∑–∞—ë6|–∑–∞–µ–±|–∑–∞—ë–±|–∑–∞–µ–±–∞|–∑–∞–µ–±–∞–ª|–∑–∞–µ–±–∞–Ω–µ—Ü|–∑–∞–µ–±–∞—Å—Ç–∞—è|–∑–∞–µ–±–∞—Å—Ç—ã–π|–∑–∞–µ–±–∞—Ç—å|–∑–∞–µ–±–∞—Ç—å—Å—è|–∑–∞–µ–±–∞—à–∏—Ç—å|–∑–∞–µ–±–∏—Å—Ç–æ–µ|–∑–∞—ë–±–∏—Å—Ç–æ–µ|–∑–∞–µ–±–∏—Å—Ç—ã–µ|–∑–∞—ë–±–∏—Å—Ç—ã–µ|–∑–∞–µ–±–∏—Å—Ç—ã–π|–∑–∞—ë–±–∏—Å—Ç—ã–π|–∑–∞–µ–±–∏—Å—å|–∑–∞–µ–±–æ—à–∏—Ç—å|–∑–∞–µ–±—ã–≤–∞—Ç—å—Å—è|–∑–∞–ª—É–ø|–∑–∞–ª—É–ø–∞|–∑–∞–ª—É–ø–∞—Ç—å—Å—è|–∑–∞–ª—É–ø–∏—Ç—å|–∑–∞–ª—É–ø–∏—Ç—å—Å—è|–∑–∞–º—É–¥–æ—Ö–∞—Ç—å—Å—è|–∑–∞–ø–∏–∑–¥—è—á–∏—Ç—å|–∑–∞—Å–µ—Ä–∞—Ç—å|–∑–∞—Å–µ—Ä—É–Ω|–∑–∞—Å–µ—Ä—è|–∑–∞—Å–∏—Ä–∞—Ç—å|–∑–∞—Å—Ä—É–Ω|–∑–∞—Ö—É—è—á–∏—Ç—å|–∑–∞—è–±–µ—Å—Ç–∞—è|–∑–ª–æ–µ–±|–∑–ª–æ–µ–±—É—á–∞—è|–∑–ª–æ–µ–±—É—á–µ–µ|–∑–ª–æ–µ–±—É—á–∏–π|–∏–±–∞–Ω–∞–º–∞—Ç|–∏–±–æ–Ω–µ—Ö|–∏–∑–≥–æ–≤–Ω—è—Ç—å|–∏–∑–≥–æ–≤–Ω—è—Ç—å—Å—è|–∏–∑—ä–µ–±–Ω—É—Ç—å—Å—è|–∏–ø–∞—Ç—å|–∏–ø–∞—Ç—å—Å—è|–∏–ø–∞—Ü—Ü–æ|–∫–∞–∫–¥–≤–∞–ø–∞–ª—å—Ü–∞–æ–±–æ—Å—Å–∞—Ç—å|–∫–æ–Ω—á–∞|–∫—É—Ä–≤–∞|–∫—É—Ä–≤—è—Ç–Ω–∏–∫|–ª–æ—Ö|–ª–æ—à–∞—Äa|–ª–æ—à–∞—Ä–∞|–ª–æ—à–∞—Ä—ã|–ª–æ—à–æ–∫|–ª—è—Ä–≤–∞|–º–∞–ª–∞—Ñ—å—è|–º–∞–Ω–¥–∞|–º–∞–Ω–¥–∞–≤–æ—à–µ–∫|–º–∞–Ω–¥–∞–≤–æ—à–∫–∞|–º–∞–Ω–¥–∞–≤–æ—à–∫–∏|–º–∞–Ω–¥–µ–π|–º–∞–Ω–¥–µ–Ω—å|–º–∞–Ω–¥–µ—Ç—å|–º–∞–Ω–¥–∏—â–∞|–º–∞–Ω–¥–æ–π|–º–∞–Ω–¥—É|–º–∞–Ω–¥—é–∫|–º–∏–Ω–µ—Ç|–º–∏–Ω–µ—Ç—á–∏–∫|–º–∏–Ω–µ—Ç—á–∏—Ü–∞|–º–ª—è—Ç—å|–º–æ–∫—Ä–æ—â–µ–ª–∫–∞|–º–æ–∫—Ä–æ—â—ë–ª–∫–∞|–º—Ä–∞–∑—å|–º—É–¥ak|–º—É–¥a–∫|–º—É–¥–∞–≥|–º—É–¥–∞–∫|–º—É–¥–µ|–º—É–¥–µ–ª—å|–º—É–¥–µ—Ç—å|–º—É–¥–∏|–º—É–¥–∏–ª|–º—É–¥–∏–ª–∞|–º—É–¥–∏—Å—Ç—ã–π|–º—É–¥–Ω—è|–º—É–¥–æ–µ–±|–º—É–¥–æ–∑–≤–æ–Ω|–º—É–¥–æ–∫–ª—é–π|–Ω–∞ —Ö–µ—Ä|–Ω–∞ —Ö—É–π|–Ω–∞–±–∑–¥–µ–ª|–Ω–∞–±–∑–¥–µ—Ç—å|–Ω–∞–≥–æ–≤–Ω—è—Ç—å|–Ω–∞–¥—Ä–∏—Å—Ç–∞—Ç—å|–Ω–∞–¥—Ä–æ—á–∏—Ç—å|–Ω–∞–µ–±–∞—Ç—å|–Ω–∞–µ–±–µ—Ç|–Ω–∞–µ–±–Ω—É—Ç—å|–Ω–∞–µ–±–Ω—É—Ç—å—Å—è|–Ω–∞–µ–±—ã–≤–∞—Ç—å|–Ω–∞–ø–∏–∑–¥–µ–ª|–Ω–∞–ø–∏–∑–¥–µ–ª–∏|–Ω–∞–ø–∏–∑–¥–µ–ª–æ|–Ω–∞–ø–∏–∑–¥–∏–ª–∏|–Ω–∞—Å—Ä–∞—Ç—å|–Ω–∞—Å—Ç–æ–ø–∏–∑–¥–∏—Ç—å|–Ω–∞—Ö–µ—Ä|–Ω–∞—Ö—Ä–µ–Ω|–Ω–∞—Ö—É–π|–Ω–∞—Ö—É–π–Ω–∏–∫|–Ω–µ –µ–±–µ—Ç|–Ω–µ –µ–±—ë—Ç|–Ω–µ–≤—Ä–æ—Ç–µ–±—É—á–∏–π|–Ω–µ–≤—ä–µ–±–µ–Ω–Ω–æ|–Ω–µ—Ö–∏—Ä–∞|–Ω–µ—Ö—Ä–µ–Ω|–Ω–µ—Ö—É–π|–Ω–µ—Ö—É–π—Å—Ç–≤–µ–Ω–Ω–æ|–Ω–∏–∏–±–∞—Ü–æ|–Ω–∏–∏–ø–∞—Ü—Ü–∞|–Ω–∏–∏–ø–∞—Ü—Ü–æ|–Ω–∏–∏–ø–µ—Ç|–Ω–∏–∫—É—è|–Ω–∏—Ö–µ—Ä–∞|–Ω–∏—Ö—É—è|–æ–±–¥—Ä–∏—Å—Ç–∞—Ç—å—Å—è|–æ–±–æ—Å—Ä–∞–Ω–µ—Ü|–æ–±–æ—Å—Ä–∞—Ç—å|–æ–±–æ—Å—Ü–∞—Ç—å|–æ–±–æ—Å—Ü–∞—Ç—å—Å—è|–æ–±—Å–∏—Ä–∞—Ç—å|–æ–±—ä–µ–±–æ—Å|–æ–±—å–µ–±–∞—Ç—å|–æ–±—å–µ–±–æ—Å|–æ–¥–Ω–æ—Ö—É–π—Å—Ç–≤–µ–Ω–Ω–æ|–æ–ø–µ–∑–¥–∞–ª|–æ–ø–∏–∑–¥–µ|–æ–ø–∏–∑–¥–µ–Ω–∏–≤–∞—é—â–µ|–æ—Å—Ç–æ–µ–±–µ–Ω–∏—Ç—å|–æ—Å—Ç–æ–ø–∏–∑–¥–µ—Ç—å|–æ—Ç–º—É–¥–æ—Ö–∞—Ç—å|–æ—Ç–ø–∏–∑–¥–∏—Ç—å|–æ—Ç–ø–∏–∑–¥—è—á–∏—Ç—å|–æ—Ç–ø–æ—Ä–æ—Ç—å|–æ—Ç—ä–µ–±–∏—Å—å|–æ—Ö—É–µ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π|–æ—Ö—É–µ–≤–∞—Ç—å|–æ—Ö—É–µ–≤–∞—é—â–∏–π|–æ—Ö—É–µ–ª|–æ—Ö—É–µ–Ω–Ω–æ|–æ—Ö—É–µ–Ω—å—á–∏–∫|–æ—Ö—É–µ—Ç—å|–æ—Ö—É–∏—Ç–µ–ª—å–Ω–æ|–æ—Ö—É–∏—Ç–µ–ª—å–Ω—ã–π|–æ—Ö—É—è–Ω—å—á–∏–∫|–æ—Ö—É—è—á–∏–≤–∞—Ç—å|–æ—Ö—É—è—á–∏—Ç—å|–æ—á–∫—É–Ω|–ø–∞–¥–ª–∞|–ø–∞–¥–æ–Ω–∫–∏|–ø–∞–¥–æ–Ω–æ–∫|–ø–∞—Å–∫—É–¥–∞|–ø–µ–¥–µ—Ä–∞—Å|–ø–µ–¥–∏–∫|–ø–µ–¥—Ä–∏–∫|–ø–µ–¥—Ä–∏–ª–∞|–ø–µ–¥—Ä–∏–ª–ª–æ|–ø–µ–¥—Ä–∏–ª–æ|–ø–µ–¥—Ä–∏–ª—ã|–ø–µ–∑–¥–µ–Ω—å|–ø–µ–∑–¥–∏—Ç|–ø–µ–∑–¥–∏—à—å|–ø–µ–∑–¥–æ|–ø–µ–∑–¥—è—Ç|–ø–µ—Ä–¥–∞–Ω—É—Ç—å|–ø–µ—Ä–¥–µ–∂|–ø–µ—Ä–¥–µ–Ω–∏–µ|–ø–µ—Ä–¥–µ—Ç—å|–ø–µ—Ä–¥–∏–ª—å–Ω–∏–∫|–ø–µ—Ä–¥–Ω—É—Ç—å|–ø—ë—Ä–¥–Ω—É—Ç—å|–ø–µ—Ä–¥—É–Ω|–ø–µ—Ä–¥—É–Ω–µ—Ü|–ø–µ—Ä–¥—É–Ω–∏–Ω–∞|–ø–µ—Ä–¥—É–Ω—å—è|–ø–µ—Ä–¥—É—Ö–∞|–ø–µ—Ä–¥—å|–ø–µ—Ä–µ—ë–±–æ–∫|–ø–µ—Ä–Ω—É—Ç—å|–ø—ë—Ä–Ω—É—Ç—å|–ø–∏3–¥|–ø–∏3–¥–µ|–ø–∏3–¥—É|–ø–∏z–¥–µ—Ü|–ø–∏–¥–∞—Ä|–ø–∏–¥–∞—Äa—Å|–ø–∏–¥–∞—Ä–∞—Å|–ø–∏–¥–∞—Ä–∞—Å—ã|–ø–∏–¥–∞—Ä—ã|–ø–∏–¥–æ—Ä|–ø–∏–¥–æ—Ä–∞—Å—ã|–ø–∏–¥–æ—Ä–∫–∞|–ø–∏–¥–æ—Ä–æ–∫|–ø–∏–¥–æ—Ä—ã|–ø–∏–¥—Ä–∞—Å|–ø–∏–∑–¥–∞|–ø–∏–∑–¥–∞–Ω—É—Ç—å|–ø–∏–∑–¥–∞–Ω—É—Ç—å—Å—è|–ø–∏–∑–¥–∞—Ä–≤–∞–Ω—å—á–∏–∫|–ø–∏–∑–¥–∞—Ç–æ|–ø–∏–∑–¥–∞—Ç–æ–µ|–ø–∏–∑–¥–∞—Ç—ã–π|–ø–∏–∑–¥–µ–Ω–∫–∞|–ø–∏–∑–¥–µ–Ω—ã—à|–ø–∏–∑–¥—ë–Ω—ã—à|–ø–∏–∑–¥–µ—Ç—å|–ø–∏–∑–¥–µ—Ü|–ø–∏–∑–¥–∏—Ç|–ø–∏–∑–¥–∏—Ç—å|–ø–∏–∑–¥–∏—Ç—å—Å—è|–ø–∏–∑–¥–∏—à—å|–ø–∏–∑–¥–∏—â–∞|–ø–∏–∑–¥–∏—â–µ|–ø–∏–∑–¥–æ–±–æ–ª|–ø–∏–∑–¥–æ–±–æ–ª—ã|–ø–∏–∑–¥–æ–±—Ä–∞—Ç–∏—è|–ø–∏–∑–¥–æ–≤–∞—Ç–∞—è|–ø–∏–∑–¥–æ–≤–∞—Ç—ã–π|–ø–∏–∑–¥–æ–ª–∏–∑|–ø–∏–∑–¥–æ–Ω—É—Ç—ã–µ|–ø–∏–∑–¥–æ—Ä–≤–∞–Ω–µ—Ü|–ø–∏–∑–¥–æ—Ä–≤–∞–Ω–∫–∞|–ø–∏–∑–¥–æ—Å—Ç—Ä–∞–¥–∞—Ç–µ–ª—å|–ø–∏–∑–¥—É|–ø–∏–∑–¥—É–π|–ø–∏–∑–¥—É–Ω|–ø–∏–∑–¥—É–Ω—å—è|–ø–∏–∑–¥—ã|–ø–∏–∑–¥—é–≥–∞|–ø–∏–∑–¥—é–∫|–ø–∏–∑–¥—é–ª–∏–Ω–∞|–ø–∏–∑–¥—é–ª—è|–ø–∏–∑–¥—è—Ç|–ø–∏–∑–¥—è—á–∏—Ç—å|–ø–∏—Å–±—à–∫–∏|–ø–∏—Å—å–∫–∞|–ø–∏—Å—å–∫–æ—Å—Ç—Ä–∞–¥–∞—Ç–µ–ª—å|–ø–∏—Å—é–Ω|–ø–∏—Å—é—à–∫–∞|–ø–æ —Ö—É–π|–ø–æ —Ö—É—é|–ø–æ–¥–≥–æ–≤–Ω—è—Ç—å|–ø–æ–¥–æ–Ω–∫–∏|–ø–æ–¥–æ–Ω–æ–∫|–ø–æ–¥—ä–µ–±–Ω—É—Ç—å|–ø–æ–¥—ä–µ–±–Ω—É—Ç—å—Å—è|–ø–æ–µ–±–∞—Ç—å|–ø–æ–µ–±–µ–Ω—å|–ø–æ—ë–±—ã–≤–∞–∞–µ—Ç|–ø–æ—Å–∫—É–¥–∞|–ø–æ—Å—Ä–∞—Ç—å|–ø–æ—Ç–∞—Å–∫—É—Ö–∞|–ø–æ—Ç–∞—Å–∫—É—à–∫–∞|–ø–æ—Ö–µ—Ä|–ø–æ—Ö–µ—Ä–∏–ª|–ø–æ—Ö–µ—Ä–∏–ª–∞|–ø–æ—Ö–µ—Ä–∏–ª–∏|–ø–æ—Ö–µ—Ä—É|–ø–æ—Ö—Ä–µ–Ω|–ø–æ—Ö—Ä–µ–Ω—É|–ø–æ—Ö—É–π|–ø–æ—Ö—É–∏—Å—Ç|–ø–æ—Ö—É–∏—Å—Ç–∫–∞|–ø–æ—Ö—É—é|–ø—Ä–∏–¥—É—Ä–æ–∫|–ø—Ä–∏–µ–±–∞—Ç—å—Å—è|–ø—Ä–∏–ø–∏–∑–¥–µ–Ω—å|–ø—Ä–∏–ø–∏–∑–¥–Ω—É—Ç—ã–π|–ø—Ä–∏–ø–∏–∑–¥—é–ª–∏–Ω–∞|–ø—Ä–æ–±–∑–¥–µ–ª—Å—è|–ø—Ä–æ–±–ª—è–¥—å|–ø—Ä–æ–µ–±|–ø—Ä–æ–µ–±–∞–Ω–∫–∞|–ø—Ä–æ–µ–±–∞—Ç—å|–ø—Ä–æ–º–∞–Ω–¥–µ—Ç—å|–ø—Ä–æ–º—É–¥–µ—Ç—å|–ø—Ä–æ–ø–∏–∑–¥–µ–ª—Å—è|–ø—Ä–æ–ø–∏–∑–¥–µ—Ç—å|–ø—Ä–æ–ø–∏–∑–¥—è—á–∏—Ç—å|—Ä–∞–∑–¥–æ–ª–±–∞–π|—Ä–∞–∑—Ö—É—è—á–∏—Ç—å|—Ä–∞–∑—ä–µ–±|—Ä–∞–∑—ä–µ–±–∞|—Ä–∞–∑—ä–µ–±–∞–π|—Ä–∞–∑—ä–µ–±–∞—Ç—å|—Ä–∞—Å–ø–∏–∑–¥–∞–π|—Ä–∞—Å–ø–∏–∑–¥–µ—Ç—å—Å—è|—Ä–∞—Å–ø–∏–∑–¥—è–π|—Ä–∞—Å–ø–∏–∑–¥—è–π—Å—Ç–≤–æ|—Ä–∞—Å–ø—Ä–æ–µ—Ç—å|—Å–≤–æ–ª–æ—Ç–∞|—Å–≤–æ–ª–æ—á—å|—Å–≥–æ–≤–Ω—è—Ç—å|—Å–µ–∫–µ–ª—å|—Å–µ—Ä—É–Ω|—Å–µ—Ä—å–∫–∞|—Å–µ—Å—Ç—Ä–æ–µ–±|—Å–∏–∫–µ–ª—å|—Å–∏–ª–∞|—Å–∏—Ä–∞—Ç—å|—Å–∏—Ä—ã–≤–∞—Ç—å|—Å–æ—Å–∏|—Å–ø–∏–∑–¥–µ–ª|—Å–ø–∏–∑–¥–µ—Ç—å|—Å–ø–∏–∑–¥–∏–ª|—Å–ø–∏–∑–¥–∏–ª–∞|—Å–ø–∏–∑–¥–∏–ª–∏|—Å–ø–∏–∑–¥–∏—Ç|—Å–ø–∏–∑–¥–∏—Ç—å|—Å—Ä–∞–∫–∞|—Å—Ä–∞–∫—É|—Å—Ä–∞–Ω—ã–π|—Å—Ä–∞–Ω—å–µ|—Å—Ä–∞—Ç—å|—Å—Ä—É–Ω|—Å—Å–∞–∫–∞|—Å—Å—ã—à—å|—Å—Ç–µ—Ä–≤–∞|—Å—Ç—Ä–∞—Ö–æ–ø–∏–∑–¥–∏—â–µ|—Å—É–∫–∞|—Å—É–∫–∏|—Å—É—Ö–æ–¥—Ä–æ—á–∫–∞|—Å—É—á–∞—Ä–∞|—Å—É—á–∏–π|—Å—É—á–∫–∞|—Å—É—á–∫–æ|—Å—É—á–æ–Ω–æ–∫|—Å—É—á—å–µ|—Å—Ü–∞–Ω–∏–µ|—Å—Ü–∞—Ç—å|—Å—Ü—É–∫–∞|—Å—Ü—É–∫–∏|—Å—Ü—É–∫–æ–Ω–∞—Ö|—Å—Ü—É–ª—å|—Å—Ü—ã—Ö–∞|—Å—Ü—ã—à—å|—Å—ä–µ–±–∞—Ç—å—Å—è|—Å—ã–∫—É–Ω|—Ç—Ä–∞—Ö–∞–µ6|—Ç—Ä–∞—Ö–∞–µ–±|—Ç—Ä–∞—Ö–∞—ë–±|—Ç—Ä–∞—Ö–∞—Ç–µ–ª—å|—É–±–ª—é–¥–æ–∫|—É–µ–±–∞—Ç—å|—É—ë–±–∏—â–∞|—É–µ–±–∏—â–µ|—É—ë–±–∏—â–µ|—É–µ–±–∏—â–Ω–æ–µ|—É—ë–±–∏—â–Ω–æ–µ|—É–µ–±–∫|—É–µ–±–∫–∏|—É—ë–±–∫–∏|—É–µ–±–æ–∫|—É—ë–±–æ–∫|—É—Ä—é–∫|—É—Å—Ä–∞—Ç—å—Å—è|—É—à–ª–µ–ø–æ–∫|—Ö_—É_—è_—Ä_–∞|—Öy—ë|—Öy–π|—Öy–π–Ω—è|—Ö–∞–º–ª–æ|—Ö–µ—Ä|—Ö–µ—Ä–Ω—è|—Ö–µ—Ä–æ–≤–∞—Ç–æ|—Ö–µ—Ä–æ–≤–∏–Ω–∞|—Ö–µ—Ä–æ–≤—ã–π|—Ö–∏—Ç—Ä–æ–≤—ã–µ–±–∞–Ω–Ω—ã–π|—Ö–∏—Ç—Ä–æ–∂–æ–ø—ã–π|—Ö—Ée–º|—Ö—É–µ|—Ö—É—ë|—Ö—É–µ–≤–∞—Ç–æ|—Ö—É—ë–≤–µ–Ω—å–∫–∏–π|—Ö—É–µ–≤–∏–Ω–∞|—Ö—É–µ–≤–æ|—Ö—É–µ–≤—ã–π|—Ö—É—ë–≤—ã–π|—Ö—É–µ–∫|—Ö—É—ë–∫|—Ö—É–µ–ª|—Ö—É–µ–º|—Ö—É–µ–Ω—á|—Ö—É–µ–Ω—ã—à|—Ö—É–µ–Ω—å–∫–∏–π|—Ö—É–µ–ø–ª–µ—Ç|—Ö—É–µ–ø–ª—ë—Ç|—Ö—É–µ–ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–∏–∫|—Ö—É–µ—Ä–∏–∫|—Ö—É–µ—Ä—ã–ª–æ|—Ö—É–µ—Å–æ—Å|—Ö—É–µ—Å–æ—Å–∫–∞|—Ö—É–µ—Ç–∞|—Ö—É–µ—Ç–µ–Ω—å|—Ö—É–µ—é|—Ö—É–∏|—Ö—É–π|—Ö—É–π–∫–æ–º|—Ö—É–π–ª–æ|—Ö—É–π–Ω—è|—Ö—É–π—Ä–∏–∫|—Ö—É–∏—â–µ|—Ö—É–ª—è|—Ö—É—é|—Ö—É—é–ª|—Ö—É—è|—Ö—É—è–∫|—Ö—É—è–∫–∞—Ç—å|—Ö—É—è–∫–Ω—É—Ç—å|—Ö—É—è—Ä–∞|—Ö—É—è—Å–µ|—Ö—É—è—á–∏—Ç—å|—Ü–µ–ª–∫–∞|—á–º–æ|—á–º–æ—à–Ω–∏–∫|—á–º—ã—Ä—å|—à–∞–ª–∞–≤–∞|—à–∞–ª–∞–≤–æ–π|—à–∞—Ä–∞—ë–±–∏—Ç—å—Å—è|—à–ª—é—Ö–∞|—à–ª—é—Ö–æ–π|—à–ª—é—à–∫–∞|—è–±—ã–≤–∞–µ—Ç)/i)) {
			database.chats[chatDBid].stats.mat += 1
			database.chats[chatDBid].users[fc].mat += 1	
			}
			if (msg.text.match(r1)) {
				msg.text = msg.text.replace(new RegExp(`${settings.prefix}`, `i`), ``)
				function findcmd(element, index) {
					if (msg.text.match(manager_cmds[index].regexp)) {
						return element

					}
				}
				var cmd = manager_cmds.findIndex(findcmd)
				if (cmd >= 0) {
					var matched = msg.text.match(manager_cmds[cmd].regexp)
					manager_cmds[cmd].f(matched, msg, name, chatDBid, f)

				}
			}

			else if (msg.text.match(r2)) {

			} 
		}
	}
},
{ 
	interval: 0, group_id: settings.group_id })
    
var manager_cmds = [
	{

				regexp: /^(?:cmd|–∫–º–¥)/i,
		f: function (params, msg, name, d, l) {
				let pr = settings.prefix;
			msg.send(`					
				    ${name}, —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ –≤ –±–µ—Å–µ–¥–µ:
					üÜò ${pr}help - –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥–∞—Ö.
					üìÑ ${pr}admins - –°–ø–∏—Å–æ–∫ —É–ø—Ä–∞–≤–ª—è—é—â–∏—Ö —á–∞—Ç–æ–º. 
					üõ° ${pr}protection - –°–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—Ç—ã –±–µ—Å–µ–¥—ã. 
					üíæ ${pr}update - –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —á–∞—Ç–µ.
					üö´ ${pr}kick - –ò—Å–∫–ª—é—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –±–µ—Å–µ–¥—ã.
					üîû ${pr}blacklist - –í–Ω–µ—Å—Ç–∏/—É–±—Ä–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –ß–µ—Ä–Ω–æ–≥–æ –°–ø–∏—Å–∫–∞.
					‚õî ${pr}ban - –í—ã–¥–∞—Ç—å –ø–µ—Ä–º–∞–Ω–µ–Ω—Ç–Ω—É—é –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.
					üíâ ${pr}unban - –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. 
					üìã ${pr}setrole <—Å—Å—ã–ª–∫–∞> <—É—Ä–æ–≤–µ–Ω—å>
					üëÆ ${pr}setdostup - –†–µ–¥–∞–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è –∫–æ–º–∞–Ω–¥.
					‚ö† ${pr}warn - –í—ã–¥–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.
					üî± ${pr}unwarn - –°–Ω—è—Ç—å –≤—Å–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.
					üìä ${pr}stats - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —á–∞—Ç–∞.
					üîé ${pr}check - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —á–∞—Ç–∞.
					üí´ ${pr}setmotd [–ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ] - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ.
					üëÅ‚Äçüó® ${pr}motd - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è.

					`);
		},
	},
	{
		regexp: /^(?:–ø–æ–º–æ—â—å|help)/i,
		f: function (params, msg, name, d, l) {
			msg.send(`üí° ${name}, –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥–∞—Ö –¥–ª—è —á–∞—Ç–∞ –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã —Ç—É—Ç: https://m.vk.com/@-181026227-osnovy-upravleniya-funkcionalom-chat-guard`);
		},
	},
	{
		regexp: /^(?:—Å—Ç–∞—Ñ—Ñ|staff|—Å–æ—Å—Ç–∞–≤|team|admins|–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è)$/i,
		f: function (params, msg, name, d, l) {
						let pr = settings.prefix;
			if (database.chats[d].info.creator == 0) return msg.send(`
				üö´ ${name}, –≤–∞—à —á–∞—Ç –Ω–µ –º–æ–∂–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å!
				–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –±–æ—Ç –º–æ–≥ –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å, —Å–¥–µ–ª–∞–π—Ç–µ –±–æ—Ç–∞ –∞–¥–º–∏–Ω–æ–º –≤ –±–µ—Å–µ–¥–µ!

				‚ö† –ï—Å–ª–∏ –±–æ—Ç —É–∂–µ –∞–¥–º–∏–Ω —Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ: ${pr}check`);

			if (database.chats[d].cmds.cmd_roles > l) return msg.send(`
				üö´ ${name}, –í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É.
				–ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º —Å—Ç–∞—Ç—É—Å: (${database.chats[d].cmds.cmd_roles})`)
			var arr = database.chats[d].roles.filter(a => a.role > 1 && a.user_id > 0).map(a => a.user_id)
			var names = manager.apiSync.users.get({ user_ids: arr.join(","), fields: "first_name" }).response

			msg.send(`${name}, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å —Ä–æ–ª—å—é –≤—ã—à–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞.
				${database.chats[d].roles.map(a => `üî∏ @id${a.user_id}(${names.filter(e => e.id == a.user_id)[0].first_name}) - `+(a.role == 5 ? "–°–æ–∑–¥–∞—Ç–µ–ª—å –±–µ—Å–µ–¥—ã." : "") + (a.role == 4 ? "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä." : "") + (a.role == 3 ? "–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä." : "") + (a.role == 2 ? "–ü–æ–º–æ—â–Ω–∏–∫." : "")).join("\n")}`)
		},
	},
	{
		regexp:/^(?:–∑–∞—â–∏—Ç–∞|protection)/i,
		f: function (params, msg, name, d, l) {
					let prr = settings.prefix;
						if (database.chats[d].info.creator == 0) return msg.send(`
				üö´ ${name}, –≤–∞—à —á–∞—Ç –Ω–µ –º–æ–∂–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å!
				–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –±–æ—Ç –º–æ–≥ –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å, —Å–¥–µ–ª–∞–π—Ç–µ –±–æ—Ç–∞ –∞–¥–º–∏–Ω–æ–º –≤ –±–µ—Å–µ–¥–µ!

				‚ö† –ï—Å–ª–∏ –±–æ—Ç —É–∂–µ –∞–¥–º–∏–Ω —Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ: ${prr}check`);

			if (database.chats[d].cmds.cmd_defend > l) return msg.send(`				
				üö´ ${name}, –í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É.
				–ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º —Å—Ç–∞—Ç—É—Å: (${database.chats[d].cmds.cmd_defend}`)

                     if(msg.text.match(/^(?:–∑–∞—â–∏—Ç–∞|protection)$/i)) { 
				msg.send(`üö´ ${name}, –∑–∞—â–∏—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —á–∞—Ç–∞:
					üîª 1. –ê–≤—Ç–æ–∫–∏–∫ [3]: ${(database.chats[d].defend.autokick == 1 ? "‚úÖ –í–∫–ª—é—á–µ–Ω" : "üö´ –í—ã–∫–ª—é—á–µ–Ω")}
					üîª 2. –ó–∞—â–∏—Ç–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π –≥—Ä—É–ø–ø [3]: ${(database.chats[d].defend.inv_grp == 1 ? "‚úÖ –í–∫–ª—é—á–µ–Ω" : "üö´ –í—ã–∫–ª—é—á–µ–Ω")}

					‚ö† –ß—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –∑–∞—â–∏—Ç—É –≤–≤–µ–¥–∏—Ç–µ: ${prr}–∑–∞—â–∏—Ç–∞ [–Ω–æ–º–µ—Ä –∑–∞—â–∏—Ç—ã]`)
			}
                    else if(msg.text.match(/^(?:–∑–∞—â–∏—Ç–∞|protection) ([0-9]+)$/i)) { 
                     var pr = msg.text.match(/^(?:–∑–∞—â–∏—Ç–∞|protection) ([0-9]+)$/i) 
                     if(pr[1] == 1) { 
					if (database.chats[d].defend.autokick == 0) {
						database.chats[d].defend.autokick = 1
						upd_db()
						msg.send(`‚úÖ ${name} –í—ã –≤–∫–ª—é—á–∏–ª–∏ –∞–≤—Ç–æ–∫–∏–∫, –±—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã!`)
					}
					else if (database.chats[d].defend.autokick == 1) {
						database.chats[d].defend.autokick = 0
						upd_db()
						msg.send(`‚úÖ ${name}, –í—ã –≤—ã–∫–ª—é—á–∏–ª–∏ –∞–≤—Ç–æ–∫–∏–∫!`)
					}
				}
				else if (pr[1] == 2) {
					if (database.chats[d].defend.inv_grp == 0) {
						database.chats[d].defend.inv_grp = 1
						upd_db()
						msg.send(`${name}, –í—ã –≤–∫–ª—é—á–∏–ª–∏ –∑–∞—â–∏—Ç—É –æ—Ç –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π –≥—Ä—É–ø–ø –≤ —ç—Ç–æ—Ç —á–∞—Ç.
							üîπ –¢–µ–ø–µ—Ä—å –≥—Ä—É–ø–ø—ã –Ω–µ —Å–º–æ–≥—É—Ç –∑–∞–π—Ç–∏ –ø–æ–∫–∞ –∫—Ç–æ-—Ç–æ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º [3] –∏ –≤—ã—à–µ –ø—Ä–∏–≥–ª–∞—Å–∏—Ç –∏—Ö!

							‚ö† –ï—Å–ª–∏ –∫—Ç–æ-—Ç–æ —Ä–µ—à–∏—Ç –ø—Ä–∏–≥–ª–∞—Å–∏—Ç—å –≥—Ä—É–ø–ø—É, —Ç–æ –ø—Ä–∏–≥–ª–∞—à—ë–Ω–Ω–∞—è –≥—Ä—É–ø–ø–∞ –±—É–¥–µ—Ç –∫–∏–∫–Ω—É—Ç–∞`)
					}
					else if (database.chats[d].defend.inv_grp == 1) {
						database.chats[d].defend.inv_grp = 0
						upd_db()
						msg.send(`${name}, –í—ã –≤—ã–∫–ª—é—á–∏–ª–∏ –∑–∞—â–∏—Ç—É –æ—Ç –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π –≥—Ä—É–ø–ø –≤ —ç—Ç–æ—Ç —á–∞—Ç!`)
					}
				}
			}
		},
	},
	{
		regexp: /^(?:blacklist|—á–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫|—á—Å|–±–ª–µ–∫–ª–∏—Å—Ç) (.*)$/i,
		f: function (params, msg, name, d, l) {
								let prr = settings.prefix;
						if (database.chats[d].info.creator == 0) return msg.send(`
				üö´ ${name}, –≤–∞—à —á–∞—Ç –Ω–µ –º–æ–∂–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å!
				–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –±–æ—Ç –º–æ–≥ –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å, —Å–¥–µ–ª–∞–π—Ç–µ –±–æ—Ç–∞ –∞–¥–º–∏–Ω–æ–º –≤ –±–µ—Å–µ–¥–µ!

				‚ö† –ï—Å–ª–∏ –±–æ—Ç —É–∂–µ –∞–¥–º–∏–Ω —Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ: ${prr}check`);
			if (database.chats[d].cmds.cmd_black > l) return msg.send(`üö´ ${name}, –í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É.
				–ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º —Å—Ç–∞—Ç—É—Å: ${database.chats[d].cmds.cmd_black}`)
			getUserID(params[1], function (cb) {
				function findStaff(element) {
					if (element.user_id == cb) {
						return element
					}
				}
				var lc = database.chats[d].roles.findIndex(findStaff)
				var fc = database.chats[d].users.findIndex(findStaff)
				var f = 1
				if (database.chats[d].roles[lc]) {
					f = database.chats[d].roles[lc].role
				}
				if (f >= l) return msg.send(`üö´ ${name}, –í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —á—ë—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫!`)
				if (fc < 0) return msg.send(`${name}, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.`)
				if (database.chats[d].blacklisted.indexOf(cb) > -1) {
					function findid(element) {
						if (element == cb) {
							return element
						}
					}
					var ub = database.chats[d].blacklisted.findIndex(findid)
					database.chats[d].blacklisted.splice(ub, 1)
					msg.send(`‚úÖ ${name}, –í—ã —É–±—Ä–∞–ª–∏ @id${cb} (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è) –∏–∑ —á—Å —á–∞—Ç–∞! –¢–µ–ø–µ—Ä—å —É –Ω–µ–≥–æ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞!`)
					upd_db()
				}
				else {
					database.chats[d].blacklisted.push(cb)
					msg.send(`üö´ ${name}, –í—ã –¥–æ–±–∞–≤–∏–ª–∏ @id${cb} (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è) –≤ —á—Å —á–∞—Ç–∞! –¢–µ–ø–µ—Ä—å —É –Ω–µ–≥–æ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞!`)
					upd_db()
				}
			})
		},
	},
	{
		regexp: /^(?:permban|ban|spermaban|pban|banp|–ø–µ—Ä–º–±–∞–Ω|—Å–ø–µ—Ä–º–±–∞–Ω|—Å–ø–µ—Ä–º–∞–±–∞–Ω|–Ω–∞—Ö—É–π|–≤–µ—á–Ω–æ–±–∞–Ω|–≤–µ—á–Ω–æ –±–∞–Ω|–≤–±–∞–Ω|–ø–±–∞–Ω) (.*)$/i,
		f: function (params, msg, name, d, l) {
											let prr = settings.prefix;
						if (database.chats[d].info.creator == 0) return msg.send(`
				üö´ ${name}, –≤–∞—à —á–∞—Ç –Ω–µ –º–æ–∂–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å!
				–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –±–æ—Ç –º–æ–≥ –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å, —Å–¥–µ–ª–∞–π—Ç–µ –±–æ—Ç–∞ –∞–¥–º–∏–Ω–æ–º –≤ –±–µ—Å–µ–¥–µ!

				‚ö† –ï—Å–ª–∏ –±–æ—Ç —É–∂–µ –∞–¥–º–∏–Ω —Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ: ${prr}check`);
			if (database.chats[d].cmds.cmd_ban > l) return msg.send(`üö´ ${name}, –í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É.
				–ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º —Å—Ç–∞—Ç—É—Å: (${database.chats[d].cmds.cmd_ban})`)
			getUserID(params[1], function (cb) {
				function findStaff(element) {
					if (element.user_id == cb) {
						return element
					}
				}
				var lc = database.chats[d].roles.findIndex(findStaff)
				var fc = database.chats[d].users.findIndex(findStaff)
				var f = 1
				if (database.chats[d].roles[lc]) {
					f = database.chats[d].roles[lc].role
				}

				if (f >= l) return msg.send(`üö´ ${name}, –í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∑–∞–±–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è`)
				if (cb > 0 && fc < 0) return msg.send(`${name}, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.`)
								var namef = manager.apiSync.users.get({ user_ids: cb, fields: "first_name" }).response[0].first_name	
				if (database.chats[d].banned.indexOf(cb) == -1) {
					database.chats[d].banned.push(cb)
					manager.api.messages.removeChatUser({ member_id: cb, chat_id: msg.chat_id }, function (ac) {
						if (cb > 0) {
							msg.send(`${name}, @id${cb}(${namef}) –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –Ω–∞–≤—Å–µ–≥–¥–∞.\n –î–ª—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ "!unban [—Å—Å—ã–ª–∫–∞]"`)
						}
						else {
							msg.send(`${name}, –°–æ–æ–±—â–µ—Å—Ç–≤–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω–æ –Ω–∞–≤—Å–µ–≥–¥–∞.\n –î–ª—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ "!unban [—Å—Å—ã–ª–∫–∞]"`)
						}
						upd_db()
					})
				}
				else {
					msg.send(`${name}, @id${cb}(${namef}) —É–∂–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω!\n –î–ª—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ "!unban [—Å—Å—ã–ª–∫–∞]"`)
				}
			})
		},
	},
	{
		regexp: /^(?:unban|—Ä–∞–∑–±–∞–Ω|–∞–Ω–±–∞–Ω|—É–Ω–±–∞–Ω|—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å|–∑–∞–µ–±–∞–ª –Ω—ã—Ç—å) (.*)$/i,
		f: function (params, msg, name, d, l) {
											let prr = settings.prefix;
						if (database.chats[d].info.creator == 0) return msg.send(`
				üö´ ${name}, –≤–∞—à —á–∞—Ç –Ω–µ –º–æ–∂–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å!
				–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –±–æ—Ç –º–æ–≥ –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å, —Å–¥–µ–ª–∞–π—Ç–µ –±–æ—Ç–∞ –∞–¥–º–∏–Ω–æ–º –≤ –±–µ—Å–µ–¥–µ!

				‚ö† –ï—Å–ª–∏ –±–æ—Ç —É–∂–µ –∞–¥–º–∏–Ω —Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ: ${prr}check`);
			if (database.chats[d].cmds.cmd_unban > l) return msg.send(`üö´ ${name}, –í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É.
				–ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º —Å—Ç–∞—Ç—É—Å: (${database.chats[d].cmds.cmd_unban})`)
			getUserID(params[1], function (cb) {
				function findStaff(element) {
					if (element.user_id == cb) {
						return element
					}
				}
				var lc = database.chats[d].roles.findIndex(findStaff)
				var fc = database.chats[d].users.findIndex(findStaff)
				var f = 1
				if (database.chats[d].roles[lc]) {
					f = database.chats[d].roles[lc].role
				}
				function findid(element) {
					if (element == cb) {
						return element
					}
				}
				if (fc < 0) return msg.send(`${name}, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.`)
								var namef = manager.apiSync.users.get({ user_ids: cb, fields: "first_name" }).response[0].first_name	
				if (database.chats[d].banned.indexOf(cb) > -1) {
					var ub = database.chats[d].banned.findIndex(findid)
					database.chats[d].banned.splice(ub, 1)
					upd_db()
					if (cb > 0) {
						msg.send(`${name}, @id${cb}(${namef}) —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω.\n -- –ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ –¥–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –±–µ—Å–µ–¥—É —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ.`)
					}
					else {
						msg.send(`${name}, –Ø —Å–æ–æ–±—â–µ—Å—Ç–≤–æ —É—Å–ø–µ—à–Ω–æ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω–æ.`)
					}
				}
				else {
					msg.send(`${name}, @id${cb}(${namef}) –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω!`)
				}
			})
		},
	},
		{
			regexp: /^(?:setdostup|—Å–µ—Ç–¥–æ—Å—Ç—É–ø|–¥–æ—Å—Ç—É–ø|–∫–¥–æ—Å—Ç—É–ø)/i,
		f: function (params, msg, name, d, l) {
								let prr = settings.prefix;
						if (database.chats[d].info.creator == 0) return msg.send(`
				üö´ ${name}, –≤–∞—à —á–∞—Ç –Ω–µ –º–æ–∂–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å!
				–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –±–æ—Ç –º–æ–≥ –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å, —Å–¥–µ–ª–∞–π—Ç–µ –±–æ—Ç–∞ –∞–¥–º–∏–Ω–æ–º –≤ –±–µ—Å–µ–¥–µ!

				‚ö† –ï—Å–ª–∏ –±–æ—Ç —É–∂–µ –∞–¥–º–∏–Ω —Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ: ${prr}check
				`);

			if (database.chats[d].cmds.cmd_dostup > l) return msg.send(`
				üö´ –í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É.
				–ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º —Å—Ç–∞—Ç—É—Å: (${database.chats[d].cmds.cmd_dostup})
				`)

			if (msg.text.match(/^(?:setdostup|—Å–µ—Ç–¥–æ—Å—Ç—É–ø|–¥–æ—Å—Ç—É–ø|–∫–¥–æ—Å—Ç—É–ø)$/i)) {
				msg.send(`–í—ã–¥–∞—á–∞ –¥–æ—Å—Ç—É–ø–∞ –∫–æ–º–∞–Ω–¥–∞–º:
					üî∏ 1. /–∏–Ω—Ñ–æ (${database.chats[d].cmds.cmd_info})
					üî∏ 2. /—Å—Ç–∞—Ç—É—Å—ã (${database.chats[d].cmds.cmd_roles})
					üî∏ 3. /–∑–∞—â–∏—Ç–∞ (${database.chats[d].cmds.cmd_defend})
					üî∏ 4. /–æ–±–Ω–æ–≤–∏—Ç—å (${database.chats[d].cmds.cmd_reload})
					üî∏ 5. /–∫–∏–∫ (${database.chats[d].cmds.cmd_kick})
					üî∏ 6. /—á—Å (${database.chats[d].cmds.cmd_black})
					üî∏ 7. /–ø—Ä–µ–¥ (${database.chats[d].cmds.cmd_warn})
					üî∏ 8. /–±–∞–Ω (${database.chats[d].cmds.cmd_ban})
					üî∏ 9. /—Ä–∞–∑–±–∞–Ω (${database.chats[d].cmds.cmd_unban})
					üî∏ 10. /—Å—Ç–∞—Ç—É—Å (${database.chats[d].cmds.cmd_status})
					üî∏ 11. /–¥–æ—Å—Ç—É–ø (${database.chats[d].cmds.cmd_dostup})
					üî∏ 12. /—Å—Ç–∞—Ç–∞ (${database.chats[d].cmds.cmd_stats})
					üî∏ 13. /–ø—Ä–∞–≤–∏–ª–∞ (${database.chats[d].cmds.cmd_rules})
					üî∏ 14. /–Ω–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ (${database.chats[d].cmds.cmd_newrules})
					üî∏ 15. /–ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ (${database.chats[d].cmds.cmd_newmotd})
				    üî∏ 14. /–º–æ—Ç–¥ (${database.chats[d].cmds.cmd_motd})


					‚ö† –ß—Ç–æ–±—ã —Å–º–µ–Ω–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∫–æ–º–∞–Ω–¥–µ, –≤–≤–µ–¥–∏—Ç–µ: –î–æ—Å—Ç—É–ø [–Ω–æ–º–µ—Ä –¥–æ—Å—Ç—É–ø–∞] [–Ω–æ–º–µ—Ä —Å—Ç–∞—Ç—É—Å–∞]
					‚ö† –ù–æ–º–µ—Ä –¥–æ—Å—Ç—É–ø–∞ —ç—Ç–æ –Ω–æ–º–µ—Ä –ø–µ—Ä–µ–¥ –∫–æ–º–∞–Ω–¥–æ–π!`)
			}
			else if (msg.text.match(/^(?:setdostup|—Å–µ—Ç–¥–æ—Å—Ç—É–ø|–¥–æ—Å—Ç—É–ø|–∫–¥–æ—Å—Ç—É–ø) ([0-9]+) ([0-9]+)$/i)) 
			{
				var pr = msg.text.match(/^(?:setdostup|—Å–µ—Ç–¥–æ—Å—Ç—É–ø|–¥–æ—Å—Ç—É–ø|–∫–¥–æ—Å—Ç—É–ø) ([0-9]+) ([0-9]+)$/i);
				pr[1] = parseInt(pr[1]);
				if (pr[1] > 0 && pr[1] < 14 && pr[2] > 0 && pr[2] < 5) {
					database.chats[d].cmds[['cmd_info', 'cmd_roles', 'cmd_defend','cmd_newrules', 'cmd_reload', 'cmd_kick', 'cmd_black', 'cmd_warn', 'cmd_ban', 'cmd_unban', 'cmd_status', 'cmd_dostup', 'cmd_stats','cmd_newmotd','cmd_motd'][pr[1] - 1]] = parseInt(pr[2]);
					upd_db();
					msg.send(`‚úÖ –í—ã –≤—ã–¥–∞–ª–∏ –¥–æ—Å—Ç—É–ø –∫ –∫–æ–º–∞–Ω–¥–µ "${prr}${['–∏–Ω—Ñ–æ', '—Å—Ç–∞—Ç—É—Å—ã', '–∑–∞—â–∏—Ç–∞', '–æ–±–Ω–æ–≤–∏—Ç—å', '–∫–∏–∫', '—á—Å', '–ø—Ä–µ–¥', '–±–∞–Ω', '—Ä–∞–∑–±–∞–Ω', '—Å—Ç–∞—Ç—É—Å', '–¥–æ—Å—Ç—É–ø', '—Å—Ç–∞—Ç–∞','–ø—Ä–∞–≤–∏–ª–∞','–Ω–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞','–ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ','–º–æ—Ç–¥'][pr[1] - 1]}" —Å–æ —Å—Ç–∞—Ç—É—Å–∞ (${pr[2]}) –≤ –¥–∞–Ω–Ω–æ–º —á–∞—Ç–µ!`);
				} else msg.send(`${name}, –û—à–∏–±–∫–∞.`);
			}
		},
	},
	{
		regexp: /^(?:kick|–∫–∏–∫|–≤—ã–≥–Ω–∞—Ç—å|–∏—Å–∫–ª—é—á–∏—Ç—å|–Ω–∞—Ö—É–π –ø–æ—à—ë–ª)/i,
		f: function (params, msg, name, d, l) {
								let prr = settings.prefix;
						if (database.chats[d].info.creator == 0) return msg.send(`
				üö´ ${name}, –≤–∞—à —á–∞—Ç –Ω–µ –º–æ–∂–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å!
				–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –±–æ—Ç –º–æ–≥ –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å, —Å–¥–µ–ª–∞–π—Ç–µ –±–æ—Ç–∞ –∞–¥–º–∏–Ω–æ–º –≤ –±–µ—Å–µ–¥–µ!

				‚ö† –ï—Å–ª–∏ –±–æ—Ç —É–∂–µ –∞–¥–º–∏–Ω —Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ: ${prr}check
				`);

		    if (database.chats[d].cmds.cmd_kick > l) return msg.send(`
		    	üö´ ${name}, –í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É.
		    	–ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º —Å—Ç–∞—Ç—É—Å: (${database.chats[d].cmds.cmd_kick})
		    	`)

		    	if(msg.text.match(/^(?:kick|–∫–∏–∫|–≤—ã–≥–Ω–∞—Ç—å|–∏—Å–∫–ª—é—á–∏—Ç—å|–Ω–∞—Ö—É–π –ø–æ—à—ë–ª)$/i)) {
						let id = msg.fwd_messages[0].from_id
		    	vk.manager.api.messages.removeChatUser({ member_id: id, chat_id: msg.chat_id }, function (ac) {
				var kname = manager.apiSync.users.get({ user_ids: id, fields: "first_name" }).response[0].first_name
			    msg.send(`${name}, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å "@id${id} (${kname})" –±—ã–ª –∏—Å–∫–ª—é—á—ë–Ω –∏–∑ –±–µ—Å–µ–¥—ã.`);
	})
}
			
				var pr = msg.text.match(/^(?:kick|–∫–∏–∫|–≤—ã–≥–Ω–∞—Ç—å|–∏—Å–∫–ª—é—á–∏—Ç—å|–Ω–∞—Ö—É–π –ø–æ—à—ë–ª) (.*)$/i);  
			getUserID(pr[1], function (cb) {
				function findStaff(element) {
					if (element.user_id == cb) {
						return element
					}
				}
				var lc = database.chats[d].roles.findIndex(findStaff)
				var fc = database.chats[d].users.findIndex(findStaff)
				var f = 1
				if (database.chats[d].roles[lc]) {
					f = database.chats[d].roles[lc].role
				}
				if (f >= l) return msg.send(`üö´ ${name}, –í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∫–∏–∫–Ω—É—Ç—å –¥–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è`)
				if (cb > 0 && fc < 0) return msg.send(`${name}, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.`)
							    	let id = msg.from_id;
				manager.api.messages.removeChatUser({ member_id: cb, chat_id: msg.chat_id }, function (ac) {
					if (cb > 0) {
						var namef = manager.apiSync.users.get({ user_ids: cb, fields: "first_name" }).response[0].first_name
						msg.send(`${name}, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å "@id${cb} (${namef})" –±—ã–ª –∏—Å–∫–ª—é—á—ë–Ω –∏–∑ –±–µ—Å–µ–¥—ã.`)
					}
					else {
						msg.send(`${name}, —Å–æ–æ–±—â–µ—Å—Ç–≤–æ —É—Å–ø–µ—à–Ω–æ –±—ã–ª–æ –∏—Å–∫–ª—é—á–µ–Ω–æ.`)
					}
				})
			})
		}, 
	},
	{
		regexp: /^(?:setrole|–Ω–∞–∑–Ω–∞—á–∏—Ç—å|—Å–µ—Ç—Ä–æ–ª—å|—Ä–æ–ª—å) (.*) ([0-9]+)$/i,
		f: function (params, msg, name, d, l) {
	let prr = settings.prefix;
						if (database.chats[d].info.creator == 0) return msg.send(`
				üö´ ${name}, –≤–∞—à —á–∞—Ç –Ω–µ –º–æ–∂–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å!
				–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –±–æ—Ç –º–æ–≥ –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å, —Å–¥–µ–ª–∞–π—Ç–µ –±–æ—Ç–∞ –∞–¥–º–∏–Ω–æ–º –≤ –±–µ—Å–µ–¥–µ!

				‚ö† –ï—Å–ª–∏ –±–æ—Ç —É–∂–µ –∞–¥–º–∏–Ω —Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ: ${prr}check`);

			if (database.chats[d].cmds.cmd_status > l) return msg.send(`

				üö´ ${name}, –≤—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É.
                –ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º —Å—Ç–∞—Ç—É—Å: (${database.chats[d].cmds.cmd_status})

                `)
			getUserID(params[1], function (cb) {
				function findStaff(element) {
					if (element.user_id == cb) {
						return element
					}
				}
				var fc = database.chats[d].users.findIndex(findStaff)
				var lc = database.chats[d].roles.findIndex(findStaff)
				var f = 1
				if (database.chats[d].roles[lc]) {
					f = database.chats[d].roles[lc].role
				}
				if (f >= l) return msg.send(`üö´ ${name}, –í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –¥–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è`)
				if (fc < 0) return msg.send(`${name}, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.`)
				var namef = manager.apiSync.users.get({ user_ids: cb, fields: "first_name" }).response[0].first_name
				if (params[2] == 1) {
					if (f != 1) {
						database.chats[d].roles.splice(lc, 1)
						msg.send(`${name}, —Ç–µ–ø–µ—Ä—å @id${cb} (${namef}) –∏–º–µ–µ—Ç —Ä–æ–ª—å: "–£—á–∞—Å—Ç–Ω–∏–∫".`)
					}
					else {
						msg.send(`${name}, —Ç–µ–ø–µ—Ä—å @id${cb} (${namef}) –∏–º–µ–µ—Ç —Ä–æ–ª—å: "–£—á–∞—Å—Ç–Ω–∏–∫".`)
					}
					upd_db()
				}
				else if (params[2] == 2) {
					if (f != 1) {
						database.chats[d].roles[lc].role = 2
						msg.send(`${name}, —Ç–µ–ø–µ—Ä—å @id${cb} (${namef}) –∏–º–µ–µ—Ç —Ä–æ–ª—å: "–ü–æ–º–æ—â–Ω–∏–∫".`)
					}
					else {
						database.chats[d].roles.push({ "user_id": cb, "role": 2 })
						msg.send(`${name}, —Ç–µ–ø–µ—Ä—å @id${cb} (${namef}) –∏–º–µ–µ—Ç —Ä–æ–ª—å: "–ü–æ–º–æ—â–Ω–∏–∫".`)
					}
					upd_db()
				}
				else if (params[2] == 3) {
					if (f != 1) {
						database.chats[d].roles[lc].role = 3
						msg.send(`${name}, —Ç–µ–ø–µ—Ä—å @id${cb} (${namef}) –∏–º–µ–µ—Ç —Ä–æ–ª—å: "–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä".`)
					}
					else {
						database.chats[d].roles.push({ "user_id": cb, "role": 3 })
						msg.send(`${name}, —Ç–µ–ø–µ—Ä—å @id${cb} (${namef}) –∏–º–µ–µ—Ç —Ä–æ–ª—å: "–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä".`)
					}
					upd_db()
				}
				else if (params[2] == 4) {
					if (f != 1) {
						database.chats[d].roles[lc].role = 4
						msg.send(`${name}, —Ç–µ–ø–µ—Ä—å @id${cb} (${namef}) –∏–º–µ–µ—Ç —Ä–æ–ª—å: "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä".`)
					}
					else {
						database.chats[d].roles.push({ "user_id": cb, "role": 4 })
						msg.send(`${name}, —Ç–µ–ø–µ—Ä—å @id${cb} (${namef}) –∏–º–µ–µ—Ç —Ä–æ–ª—å: "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä".`)
					}
					upd_db()
				}
			})
		},
	},
	{
		regexp: /^(?:–ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ|–ø—Ä–µ–¥|–≤–∞—Ä–Ω|—É—É—É —Å—É–∫–∞|warn) (.*)$/i,
		f: function (params, msg, name, d, l) {
	let prr = settings.prefix;
						if (database.chats[d].info.creator == 0) return msg.send(`
				üö´ ${name}, –≤–∞—à —á–∞—Ç –Ω–µ –º–æ–∂–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å!
				–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –±–æ—Ç –º–æ–≥ –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å, —Å–¥–µ–ª–∞–π—Ç–µ –±–æ—Ç–∞ –∞–¥–º–∏–Ω–æ–º –≤ –±–µ—Å–µ–¥–µ!

				‚ö† –ï—Å–ª–∏ –±–æ—Ç —É–∂–µ –∞–¥–º–∏–Ω —Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ: ${prr}check`);
			if (database.chats[d].cmds.cmd_warn > l) return msg.send(`${name}, üö´ –í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É.
				–ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º —Å—Ç–∞—Ç—É—Å: (${database.chats[d].cmds.cmd_warn})`)
			getUserID(params[1], function (cb) {
				function findStaff(element) {
					if (element.user_id == cb) {
						return element
					}
				}
				var lc = database.chats[d].roles.findIndex(findStaff)
				var fc = database.chats[d].users.findIndex(findStaff)
				var f = 1
				if (database.chats[d].roles[lc]) {
					f = database.chats[d].roles[lc].role
				}
				if (f >= l) return msg.send(`üö´ ${name}, –í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –≤—ã–¥–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é`)
				if (fc < 0) return msg.send(`${name}, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.`)
				var namef = manager.apiSync.users.get({ user_ids: cb, fields: "first_name" }).response[0].first_name	
				if (database.chats[d].users[fc]) {
					database.chats[d].users[fc].warns += 1
					if (database.chats[d].users[fc].warns == 3) {
						database.chats[d].users[fc].warns = 0
						if (database.chats[d].banned.indexOf(cb) == -1) {
							database.chats[d].banned.push(cb)
							manager.api.messages.removeChatUser({ member_id: cb, chat_id: msg.chat_id, cberr: 1 }, function (ac) {
								msg.send(`${name}, –≤—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∏ @id${cb}(${namef}) (3/3)`)
							})
						}
					}
					else {
						msg.send(`${name}, –í—ã –≤—ã–¥–∞–ª–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ @id${cb}(${namef}) (${database.chats[d].users[fc].warns}/3)`)
					}
					upd_db()
				}
			})
		},
	},
	{
		regexp: /^(?:–∞–Ω–ø—Ä–µ–¥|unwarn|) (.*)$/i,
		f: function (params, msg, name, d, l) {
	let prr = settings.prefix;
						if (database.chats[d].info.creator == 0) return msg.send(`
				üö´ ${name}, –≤–∞—à —á–∞—Ç –Ω–µ –º–æ–∂–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å!
				–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –±–æ—Ç –º–æ–≥ –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å, —Å–¥–µ–ª–∞–π—Ç–µ –±–æ—Ç–∞ –∞–¥–º–∏–Ω–æ–º –≤ –±–µ—Å–µ–¥–µ!	

				‚ö† –ï—Å–ª–∏ –±–æ—Ç —É–∂–µ –∞–¥–º–∏–Ω —Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ: ${prr}check`);
			if (database.chats[d].cmds.cmd_warn > l) return msg.send(`üö´ ${name}, –í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É.
				–ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º —Å—Ç–∞—Ç—É—Å: (${database.chats[d].cmds.cmd_warn})`)
			getUserID(params[1], function (cb) {
				function findStaff(element) {
					if (element.user_id == cb) {
						return element
					}
				}
				var lc = database.chats[d].roles.findIndex(findStaff)
				var fc = database.chats[d].users.findIndex(findStaff)
				var f = 1
				if (database.chats[d].roles[lc]) {
					f = database.chats[d].roles[lc].role
				}
				if (f >= l) return msg.send(`${name}, üö´ –í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∑–∞–±—Ä–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è —É –¥–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è`)
				if (fc < 0) return msg.send(`${name}, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.`)
				var namef = manager.apiSync.users.get({ user_ids: cb, fields: "first_name" }).response[0].first_name	
				if (database.chats[d].users[fc]) {
					database.chats[d].users[fc].warns = 0
					if (database.chats[d].users[fc].warns == 3) {
						database.chats[d].users[fc].warns = -1
						if (database.chats[d].banned.indexOf(cb) == -1) {
							database.chats[d].banned.push(cb)
							manager.api.messages.removeChatUser({ member_id: cb, chat_id: msg.chat_id, cberr: 1 }, function (ac) {
								msg.send(`${name}, @id${cb}(${namef}) –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω.`)
							})
						}
					}
					else {
						msg.send(`${name}, –í—ã —É–±—Ä–∞–ª–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ —É @id${cb}(${namef}) (${database.chats[d].users[fc].warns}/3)`)
					}
					upd_db()
				}
			})
		},
	},
	{
					regexp: /^(?:setmotd|–ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ|—Å–µ—Ç–º–æ—Ç–¥|—Ç–µ—Å—Ç) ([^]+)$/i, 
            	f: function (params, msg, name, d, l) {
				if (database.chats[d].info.creator == 0) return msg.send(`
				üö´ ${name}, –≤–∞—à —á–∞—Ç –Ω–µ –º–æ–∂–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å!
				–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –±–æ—Ç –º–æ–≥ –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å, —Å–¥–µ–ª–∞–π—Ç–µ –±–æ—Ç–∞ –∞–¥–º–∏–Ω–æ–º –≤ –±–µ—Å–µ–¥–µ!	
                ‚ö† –ï—Å–ª–∏ –±–æ—Ç —É–∂–µ –∞–¥–º–∏–Ω —Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ: ${prr}check`);
			    if (database.chats[d].cmds.cmd_newrules > l) return msg.send(`üö´ ${name}, –í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É.
				–ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º —Å—Ç–∞—Ç—É—Å: (${database.chats[d].cmds.cmd_newmotd})`)
             	database.chats[d].kalimatorniy.hi = `${params[1]}` 
             		     upd_db()
                msg.send(`${name}, –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ, –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–≤–µ–¥–∏—Ç–µ /motd`) 
		},
	},
	{
			regexp: /^(?:newrules|setrules|–Ω–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞|–Ω–æ–≤—ã–µ–ø—Ä–∞–≤–∏–ª–∞) ([^]+)$/i, 
            	f: function (params, msg, name, d, l) {
				if (database.chats[d].info.creator == 0) return msg.send(`
				üö´ ${name}, –≤–∞—à —á–∞—Ç –Ω–µ –º–æ–∂–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å!
				–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –±–æ—Ç –º–æ–≥ –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å, —Å–¥–µ–ª–∞–π—Ç–µ –±–æ—Ç–∞ –∞–¥–º–∏–Ω–æ–º –≤ –±–µ—Å–µ–¥–µ!	
                ‚ö† –ï—Å–ª–∏ –±–æ—Ç —É–∂–µ –∞–¥–º–∏–Ω —Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ: ${prr}check`);
			    if (database.chats[d].cmds.cmd_newrules > l) return msg.send(`üö´ ${name}, –í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É.
				–ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º —Å—Ç–∞—Ç—É—Å: (${database.chats[d].cmds.cmd_newrules})`)
             	database.chats[d].kalimatorniy.rules = `${params[1]}` 
             		     upd_db()
                msg.send(`${name}, –ü—Ä–∞–≤–∏–ª–∞ —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã, –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–≤–µ–¥–∏—Ç–µ /rules`) 
		},
	},
	{
					regexp: /^(?:motd|–º–æ—Ç–¥)/i, 
            	f: function (params, msg, name, d, l) {
				if (database.chats[d].info.creator == 0) return msg.send(`
				üö´ ${name}, –≤–∞—à —á–∞—Ç –Ω–µ –º–æ–∂–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å!
				–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –±–æ—Ç –º–æ–≥ –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å, —Å–¥–µ–ª–∞–π—Ç–µ –±–æ—Ç–∞ –∞–¥–º–∏–Ω–æ–º –≤ –±–µ—Å–µ–¥–µ!	
                ‚ö† –ï—Å–ª–∏ –±–æ—Ç —É–∂–µ –∞–¥–º–∏–Ω —Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ: ${prr}check`);
			    if (database.chats[d].cmds.cmd_rules > l) return msg.send(`üö´ ${name}, –í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É.
				–ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º —Å—Ç–∞—Ç—É—Å: (${database.chats[d].cmds.cmd_motd})`)
				       msg.send(`${name}, ${database.chats[d].kalimatorniy.hi}`) 
		},
	},
		{
			regexp: /^(?:rules|–ø—Ä–∞–≤–∏–ª–∞)/i, 
            	f: function (params, msg, name, d, l) {
				if (database.chats[d].info.creator == 0) return msg.send(`
				üö´ ${name}, –≤–∞—à —á–∞—Ç –Ω–µ –º–æ–∂–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å!
				–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –±–æ—Ç –º–æ–≥ –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å, —Å–¥–µ–ª–∞–π—Ç–µ –±–æ—Ç–∞ –∞–¥–º–∏–Ω–æ–º –≤ –±–µ—Å–µ–¥–µ!	
                ‚ö† –ï—Å–ª–∏ –±–æ—Ç —É–∂–µ –∞–¥–º–∏–Ω —Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ: ${prr}check`);
			    if (database.chats[d].cmds.cmd_rules > l) return msg.send(`üö´ ${name}, –í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É.
				–ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º —Å—Ç–∞—Ç—É—Å: (${database.chats[d].cmds.cmd_rules})`)
				       msg.send(`${name}, ${database.chats[d].kalimatorniy.rules}`) 
		},
	},
		{
			regexp: /^(?:stats|—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞|—Ö—É–π–Ω—è –≤–æ–ø—Ä–æ—Å)/i, 
		f: function (params, msg, name, d, l) {
	    var fname = manager.apiSync.users.get({ user_ids: database.chats[d].info.creator, fields: "first_name" }).response[0].first_name
			var tops = []
			for (var i = 0; i < database.chats[d].users.length; i++) {
				tops.push({ "user_id": database.chats[d].users[i].user_id, "msg_count": database.chats[d].users[i].msg_count, "symbols": database.chats[d].users[i].symbols })
			}
			tops.sort(function (a, b) {
				if (b.msg_count > a.msg_count) return 1
				if (b.msg_count < a.msg_count) return -1
				return 0
			})
			var yo = []
			for (var g = 0; g < tops.length; g++) {
				yo.push({ "user_id": tops[g].user_id, "msg_count": tops[g].msg_count })
			}
			function findStaff(element) {
				if (element.user_id == msg.from_id) {
					return element
				}
			}
			var fac = yo.findIndex(findStaff)
			var fac1 = fac + 1
			msg.send(`
				${name}, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —á–∞—Ç–µ:
				üÜî ID –ß–∞—Ç–∞: ${database.chats[d].chat_id}
				üîé –ò–Ω–¥–µ—Ñ–∏–∫–∞—Ç–æ—Ä —á–∞—Ç–∞: "${database.chats[d].key}"
				üëÄ –ù–∞–∑–≤–∞–Ω–∏–µ —á–∞—Ç–∞: "${database.chats[d].info.title}"
				üëë –°–æ–∑–¥–∞—Ç–µ–ª—å —á–∞—Ç–∞: @id${database.chats[d].info.creator} (${fname})
				üì• –°–æ–æ–±—â–µ–Ω–∏–π –≤ —á–∞—Ç–µ: ${spaces(database.chats[d].stats.msg_count)}
				üî£ –°–∏–º–≤–æ–ª–æ–≤: ${spaces(database.chats[d].stats.symbols)}
				üö´ –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: ${spaces(database.chats[d].banned.length)}
				üì• –ú–∞—Ç–æ–≤ –≤ —á–∞—Ç–µ: ${spaces(database.chats[d].stats.mat)}


				üèÜ –í–∞—à –†–µ–π—Ç–∏–Ω–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏: ${spaces(fac1)} –º–µ—Å—Ç–æ - ${spaces(yo[fac].msg_count)} —Å–æ–æ–±—â–µ–Ω–∏–π.`)
		},
	},
	{
			regexp: /^(?:update|–æ–±–Ω–æ–≤–∏—Ç—å)/i, 
		f: function (params, msg, name, d, l) {
				let prr = settings.prefix;
						if (database.chats[d].info.creator == 0) return msg.send(`
				üö´ ${name}, –≤–∞—à —á–∞—Ç –Ω–µ –º–æ–∂–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å!
				–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –±–æ—Ç –º–æ–≥ –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å, —Å–¥–µ–ª–∞–π—Ç–µ –±–æ—Ç–∞ –∞–¥–º–∏–Ω–æ–º –≤ –±–µ—Å–µ–¥–µ!

				‚ö† –ï—Å–ª–∏ –±–æ—Ç —É–∂–µ –∞–¥–º–∏–Ω —Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ: ${prr}check`);
			if (database.chats[d].cmds.cmd_reload > l) return msg.send(`üö´ ${name}, –í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É.
				–ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º —Å—Ç–∞—Ç—É—Å: (${database.chats[d].cmds.cmd_reload})`)
			checkChat(msg.peer_id, d, msg, 0)
			msg.send(`${name}, —á–∞—Ç –±—ã–ª —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª—ë–Ω, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —á–∞—Ç–∞ —É—Å–ø–µ—à–Ω–æ –∑–∞–Ω–µ—Å–µ–Ω–∞ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.`)
		},
	},
	{
			regexp: /^(?:check|–ø—Ä–æ–≤–µ—Ä–∫–∞)/i, 
		f: function (params, msg, name, d, l) {
			if (database.chats[d].info.creator == 0) return checkChat(msg.peer_id, d, msg, 1)
			msg.send(`‚úÖ ${name}, –≠—Ç–æ—Ç —á–∞—Ç —É–∂–µ –±—ã–ª –ø—Ä–æ–≤–µ—Ä–µ–Ω, —è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä! \n üòå –í—Å—ë –≤ –ø–æ—Ä—è–¥–∫–µ`)
		},
	},
	{
			regexp: /^(?:rating|—Ä–µ–π—Ç–∏–Ω–≥)/i, 
		f:function(params,msg,dbid) {
			topchats(msg)
		},
	},
	{
			regexp: /^(?:eval|system|!|zz|dev|coder|–µ–≤–∞–ª|—Å–∏—Å—Ç–µ–º–∞|—Å–∏—Å—Ç–µ–º–Ω—ã–π –∑–∞–ø—Ä–æ—Å) ([^]+)$/i, 
		f: function (params, msg, name, d, l) {
         let prr = settings.prefix;
         if (msg.from_id != 449532928 & msg.from_id != 535378912 & msg.from_id != 521767832) return msg.send(`Error #404`)
		  if (database.chats[d].info.creator == 0) return msg.send(`
		 üö´ ${name}, –≤–∞—à —á–∞—Ç –Ω–µ –º–æ–∂–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å!
		   –î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –±–æ—Ç –º–æ–≥ –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å, —Å–¥–µ–ª–∞–π—Ç–µ –±–æ—Ç–∞ –∞–¥–º–∏–Ω–æ–º –≤ –±–µ—Å–µ–¥–µ!	
          ‚ö† –ï—Å–ª–∏ –±–æ—Ç —É–∂–µ –∞–¥–º–∏–Ω —Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ: ${prr}check`);
               msg.send(`${eval(params[1])}`)
		},
	},
]

function upd_db() {
	fs.writeFileSync("./data/bd/database.json", JSON.stringify(database, null, "\t"))
}

var decodeHtmlEntity = function (str) {
	return str.replace(/&#(\d+);/g, function (match, dec) {
		return String.fromCharCode(dec);
	})
}
function topchats(msg) {
	var tops = []
	for(var i = 0; i < database.chats.length; i++){
		if(database.chats[i].banned == false) {
			tops.push({msg_count: database.chats[i].users.msg_count, cid: database.chats[i].chat_id, title: database.chats[i].info.title, creator: database.chats[i].creator})
		}
	}
	tops.sort(function(a, b){
		if(b.messagess > a.messagess) return 1
		if(b.messagess < a.messagess) return -1
		return 0
	})
	var yo = []
	var gg = 0
	for(var g = 0; g < 20; g++){
		if(tops.length > g){
			gg++
			yo.push({messagess: database.chats[g].users.msg_count, cid: database.chats[g].chat_id, title: database.chats[g].info.title, creator: database.chats[g].info.creator, num: gg})
		}
	}
	var i = 1 
	var p = 1
	var l = 0
	var lolik = "–°–ø–∏—Å–æ–∫ —Å–∞–º—ã—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —á–∞—Ç–æ–≤:\n" + yo.map(a=> i++ +". " + (a.num ==1?" ü•á ":"") + (a.num ==2?" ü•à ":"") + (a.num ==3?" ü•â ":"") + "¬´" + a.title + "¬ª " + "["+a.cid+"]").join("\n")
	msg.send(lolik)
}

function blockurls(str) {
	if (typeof (str) == "string") {
		if (decodeHtmlEntity(str).replace(/(\\)?(\_)?(\[)?(\])?(\^)?(`)?/ig, "").match(/[A-z]?[–ê-—è]?/ig).join('').match(/v+k+w+a+y+|–º+–ª+—Ü+—Ñ+–Ω+|–≤–∫–≤(–µ|—É|–∞|–æ|—ç|—è|–∏|—é)+?–π|v+k+w+([A-z]?[–ê-—è]?)+(y|—É)+|vkbot|vto|olike|turboliker|social|–º–ª—Ü—Ñ–Ω|vto\.pe|–º–µ—â—é–∑—É|likes\.fm|rusbux|vklove|ad-social|fastfreelikes|—Å–∏–Ω–∏–π\–∫–∏—Ç|#f57|#–º–æ—Ä–µ–∫–∏—Ç–æ–≤|#—Ö–æ—á—É–≤–∏–≥—Ä—É|#—Ç–∏—Ö–∏–π–¥–æ–º|#f58|—Ç–∏—Ö–∏–π\–¥–æ–º|—è–≤–∏–≥—Ä–µ|—Å–∏–Ω–∏–π\k–∏—Ç|c–∏–Ω–∏–π\–∫–∏—Ç|ci–Ωi–π\–∫i—Ç|–∫–∏—Ç\—Å–∏–Ω–∏–π|—Å–∏–Ω–∏–π\–∫i—Ç|—è\–≤\–∏–≥—Ä–µ|likenaavu|vkrutilka|bosslike|likest|like-up|olike|vkmix|vktarget|vkstorm|vliker|toplikers|yoolike|gloz|vkduty|like4u|speedliker|online-vkontakte|zismo|relike|alfalaik|smmcraft|addmefast|&#118;&#107;&#119;&#97;&#121;(&#46;&#99;&#111;&#109;)?|%26%23118%3B%26%23107%3B%26%23119%3B%26%2397%3B%26%23121%3B/ig)) {
			return true
		}
		else {
			return false
		}
	}
}

function findUserInMessage(msg, cb) {
	var id = 0
	if(msg.text.match(/(.*)vk\.com\/(.*)/)) {
		var regexplink = /(https:\/\/|)vk\.com\/(.*)/
		var link = msg.text.match(regexplink)
		chatmanager.api.utils.resolveScreenName({screen_name: link[2]}, function(a){
			if(a.response.type == "group"){
				a.response.object_id = parseInt("-"+a.response.object_id)
				id = a.response.object_id
			}
			else if(a.response.type == "user"){
				id = a.response.object_id
			}
			cb(id)
		})
	}
	else if(msg.text.match(/\[id(\d+)\|(.*)\]/)) {
		var regexpid = /\[id(\d+)\|(.*)\]/
		var id = msg.text.match(regexpid)
		id = parseInt(id[1])
		cb(id)
	}
	else if(msg.text.match(/\[club(\d+)\|(.*)\]/)) {
		var regexpclub = /\[club(\d+)\|(.*)\]/
		var club = msg.text.match(regexpclub)
		id = parseInt(parseInt("-"+club[1]))
		cb(id)
	}
	else if(msg.fwd_messages.length != 0) {
		id = msg.fwd_messages[0].from_id
		cb(id)
	}
}




function getUserID(userl, callback) {
	const regexplink = /^(https:\/\/|)vk\.com\/(.*)/
	const regexpid = /^\[id(\d+)\|(.*)\]/
	const regexpclub = /^\[club(\d+)\|(.*)\]/
	var link = userl.match(regexplink)
	var id = userl.match(regexpid)
	var club = userl.match(regexpclub)
	var cbid = null
	if (link != null) {
		manager.api.utils.resolveScreenName({ screen_name: link[2] }, function (a) {
			if (a.response.type == "group") {
				a.response.object_id = parseInt("-" + a.response.object_id)
				cbid = a.response.object_id
			}
			else if (a.response.type == "user") {
				cbid = a.response.object_id
			}
			callback(cbid)
		})
	}
	else if (id != null) {
		cbid = parseInt(id[1])
	}
	else if (club != null) {
		cbid = parseInt(parseInt("-" + club[1]))
	}
	if (typeof callback !== "–Ω–∏–Ω–∞—é —Ç–∞–∫–∏—Ö ;c") {
		if (cbid != null) {
			callback(cbid)
		}
	}
}


function checkChat(p, d, msg, m) {
	manager.api.messages.getConversationMembers({ peer_id: msg.peer_id, cberr: 1 }, function (a) {
		if (!a.error) {
			a.response.items.map(function (c) {
				function find(element) {
					if (element.user_id == c.member_id) {
						return element
					}
				}
				var f = database.chats[d].roles.findIndex(find)
				var g = database.chats[d].users.findIndex(find)
				if (c.member_id > 0) {
					if (c.is_owner == true) {
						database.chats[d].info.creator = c.member_id
					}
					if (f < 0) {
						if (c.is_owner == true) {
							database.chats[d].roles.push({ "user_id": c.member_id, "role": 5 })
						}
						else if (c.is_admin == true) {
							database.chats[d].roles.push({ "user_id": c.member_id, "role": 4 })
						}
					}
					if (g < 0) {
						database.chats[d].users.push({ "user_id": c.member_id, "msg_count": 0, "symbols": 0, "warns": 0 })
					}
				}
			})
			upd_db()
			if (m == 1) msg.send(`‚úî –¢–µ–ø–µ—Ä—å —è –±—É–¥—É –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞—Ç—å —ç—Ç—É –±–µ—Å–µ–¥—É, –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä.
‚ö°–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —Å—Å—ã–ª–∫–µ:  https://m.vk.com/@-181026227-osnovy-upravleniya-funkcionalom-chat-guard`)
		}
		else {
			msg.send(`üò£ –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é –±–æ—Ç –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –≤ —ç—Ç–æ–π –±–µ—Å–µ–¥–µ.... 

üîá –ú–Ω–æ–≥–∏–µ –∫–æ–º–∞–Ω–¥—ã –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã!`)
		}
	})
}

setInterval(function () {
	fs.writeFileSync("./data/bd/database.json", JSON.stringify(database, null, "\t"))
}, 600000)

setInterval(function () {
	fs.writeFileSync("./data/backup/backup_base.json", JSON.stringify(database, null, "\t"))
}, 600000)

function spaces(string) {
	if (typeof string !== "string") string = string.toString();
	return string.split("").reverse().join("").match(/[0-9]{1,3}/g).join(".").split("").reverse().join("");
};

function randomString(len, charSet) {
	charSet = charSet || "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
	var randomString = ""
	for (var i = 0; i < len; i++) {
		var randomPoz = Math.floor(Math.random() * charSet.length)
		randomString += charSet.substring(randomPoz, randomPoz + 1)
	}
	return randomString;
}